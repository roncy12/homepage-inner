{{#or customer (if theme_settings.restrict_to_login '!==' true)}}
    {{#if theme_settings.show_product_quantity_box}}
        <div class="form-field form-field--increments">
            <label class="form-label form-label--alternate"
                   for="qty[]">QTY</label>

            <div class="form-increment" data-quantity-change>
                <button class="button button--icon" data-action="dec">
                    <span class="is-srOnly">{{lang 'products.quantity_decrease'}}</span>
                    <i class="icon" aria-hidden="true">
                        <svg>
                            <use xlink:href="#icon-remove"/>
                        </svg>
                    </i>
                </button>
                <input class="form-input form-input--incrementTotal"
                       id="qty[]"
                       name="qty[]"
                       type="number"
                       value="{{#if product.min_purchase_quantity}}{{product.min_purchase_quantity}}{{else}}1{{/if}}"
                       data-quantity-min="{{product.min_purchase_quantity}}"
                       data-quantity-max="{{product.max_purchase_quantity}}"
                       min="{{#if product.min_purchase_quantity}}{{product.min_purchase_quantity}}{{else}}1{{/if}}"
                       pattern="[0-9]*"
                       aria-live="polite">
                <button class="button button--icon" data-action="inc">
                    <span class="is-srOnly">{{lang 'products.quantity_increase'}}</span>
                    <i class="icon" aria-hidden="true">
                        <svg>
                            <use xlink:href="#icon-add"/>
                        </svg>
                    </i>
                </button>
            </div>
        </div>
    {{/if}}

<div class="form-field form-field--stock{{#unless product.stock_level}} u-hiddenVisually{{/unless}}">
    <label class="form-label form-label--alternate">
        <span data-product-stock>{{product.stock_level}}</span> {{lang 'products.current_stock' quantity=product.stock_level}}
    </label>
</div>
{{/or}}
{{#or customer (if theme_settings.restrict_to_login '!==' true)}}
    <div class="form-action form-addToCart">
         <input id="form-action-addToCart" data-wait-message="{{lang 'products.adding_to_cart'}}" class="button button--primary grn-matt-btn" type="submit"
            value="{{#if product.pre_order}}{{lang 'products.pre_order'}}{{else}}{{lang 'products.add_to_cart'}}{{/if}}">
    </div>
     {{{snippet 'product_addtocart'}}}
{{/or}}
