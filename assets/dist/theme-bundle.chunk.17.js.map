{"version":3,"sources":["webpack:///./assets/js/theme/brand.js"],"names":["Brand","onReady","$","length","initFacetedSearch","onSortBySubmit","bind","hooks","on","context","enableSwatches","swatchPreview","enableSizes","sizePreview","$productListingContainer","$facetedSearchContainer","productsPerPage","brandProductsPerPage","requestOptions","template","productListing","sidebar","config","shop_by_brand","brand","products","limit","showMore","facetedSearch","FacetedSearch","content","html","animate","scrollTop","CatalogPage"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;IAEqBA,K;;;;;;;;;oBACjBC,O,sBAAU;AACN,YAAIC,6CAACA,CAAC,gBAAF,EAAoBC,MAApB,GAA6B,CAAjC,EAAoC;AAChC,iBAAKC,iBAAL;AACH,SAFD,MAEO;AACH,iBAAKC,cAAL,GAAsB,KAAKA,cAAL,CAAoBC,IAApB,CAAyB,IAAzB,CAAtB;AACAC,4EAAKA,CAACC,EAAN,CAAS,kBAAT,EAA6B,KAAKH,cAAlC;AACH;;AAED;AACA,YAAI,KAAKI,OAAL,CAAaC,cAAjB,EAAiC;AAC7BC,6EAAaA;AAChB;;AAED,YAAI,KAAKF,OAAL,CAAaG,WAAjB,EAA8B;AAC1BC,2EAAWA;AACd;AACJ,K;;oBAEDT,iB,gCAAoB;AAAA;;AAChB,YAAMU,2BAA2BZ,6CAACA,CAAC,4BAAF,CAAjC;AACA,YAAMa,0BAA0Bb,6CAACA,CAAC,2BAAF,CAAhC;AACA,YAAMc,kBAAkB,KAAKP,OAAL,CAAaQ,oBAArC;AACA,YAAMC,iBAAiB;AACnBC,sBAAU;AACNC,gCAAgB,uBADV;AAENC,yBAAS;AAFH,aADS;AAKnBC,oBAAQ;AACJC,+BAAe,IADX;AAEJC,uBAAO;AACHC,8BAAU;AACNC,+BAAOV;AADD;AADP;AAFH,aALW;AAanBW,sBAAU;AAbS,SAAvB;;AAgBA,aAAKC,aAAL,GAAqB,IAAIC,8DAAJ,CAAkBX,cAAlB,EAAkC,UAACY,OAAD,EAAa;AAChEhB,qCAAyBiB,IAAzB,CAA8BD,QAAQV,cAAtC;AACAL,oCAAwBgB,IAAxB,CAA6BD,QAAQT,OAArC;;AAEAnB,yDAACA,CAAC,YAAF,EAAgB8B,OAAhB,CAAwB;AACpBC,2BAAW;AADS,aAAxB,EAEG,GAFH;;AAIA;AACA,gBAAI,OAAKxB,OAAL,CAAaC,cAAjB,EAAiC;AAC7BC,iFAAaA;AAChB;;AAED,gBAAI,OAAKF,OAAL,CAAaG,WAAjB,EAA8B;AAC1BC,+EAAWA;AACd;AACJ,SAhBoB,CAArB;AAiBH,K;;;EAxD8BqB,gD;;AAAdlC,oE","file":"theme-bundle.chunk.17.js","sourcesContent":["import { hooks } from '@bigcommerce/stencil-utils';\nimport CatalogPage from './catalog';\nimport $ from 'jquery';\nimport FacetedSearch from './common/faceted-search';\nimport swatchPreview from './f/swatch-preview';\nimport sizePreview from './f/size-preview';\n\nexport default class Brand extends CatalogPage {\n    onReady() {\n        if ($('#facetedSearch').length > 0) {\n            this.initFacetedSearch();\n        } else {\n            this.onSortBySubmit = this.onSortBySubmit.bind(this);\n            hooks.on('sortBy-submitted', this.onSortBySubmit);\n        }\n\n        // Load swatches onto product grid if enabled\n        if (this.context.enableSwatches) {\n            swatchPreview();\n        }\n\n        if (this.context.enableSizes) {\n            sizePreview();\n        }\n    }\n\n    initFacetedSearch() {\n        const $productListingContainer = $('#product-listing-container');\n        const $facetedSearchContainer = $('#faceted-search-container');\n        const productsPerPage = this.context.brandProductsPerPage;\n        const requestOptions = {\n            template: {\n                productListing: 'brand/product-listing',\n                sidebar: 'brand/sidebar',\n            },\n            config: {\n                shop_by_brand: true,\n                brand: {\n                    products: {\n                        limit: productsPerPage,\n                    },\n                },\n            },\n            showMore: 'brand/show-more',\n        };\n\n        this.facetedSearch = new FacetedSearch(requestOptions, (content) => {\n            $productListingContainer.html(content.productListing);\n            $facetedSearchContainer.html(content.sidebar);\n\n            $('html, body').animate({\n                scrollTop: 0,\n            }, 100);\n\n            // Load swatches onto filtered product grid if enabled\n            if (this.context.enableSwatches) {\n                swatchPreview();\n            }\n\n            if (this.context.enableSizes) {\n                sizePreview();\n            }\n        });\n    }\n}\n"],"sourceRoot":""}