{"version":3,"sources":["webpack:///./assets/js/theme/auth.js","webpack:///./assets/js/theme/common/form-validation.js","webpack:///./node_modules/lodash/_baseFor.js","webpack:///./node_modules/lodash/_baseForOwn.js","webpack:///./node_modules/lodash/_baseIteratee.js","webpack:///./node_modules/lodash/_createBaseFor.js","webpack:///./node_modules/lodash/each.js","webpack:///./node_modules/lodash/transform.js"],"names":["Auth","context","formCreateSelector","registerLoginValidation","$loginForm","loginModel","forms","loginValidator","nod","submit","add","selector","validate","cb","val","result","email","errorMessage","useValidEmail","password","enterPass","on","performCheck","areAll","event","preventDefault","registerForgotPasswordValidation","$forgotPasswordForm","forgotPasswordValidator","registerNewPasswordValidation","newPasswordForm","newPasswordValidator","$","passwordSelector","password2Selector","Validators","setPasswordValidation","passwordRequirements","registerCreateAccountValidator","$createAccountForm","validationModel","validation","createAccountValidator","$stateElement","emailSelector","$emailElement","$passwordElement","$password2Element","$last","stateCountry","err","field","Error","$field","getStatus","remove","is","setStateCountryValidation","cleanUpStateValidation","setEmailValidation","onReady","classifyForm","$newPasswordForm","length","PageManager","buildDateValidation","$formField","min_date","max_date","invalidMessage","formElementId","attr","minSplit","split","maxSplit","minDate","Date","maxDate","triggeredBy","day","Number","find","month","year","chosenDate","buildRequiredCheckboxValidation","formFieldId","primarySelector","secondarySelector","each","index","checkbox","checked","label","buildRequiredValidation","buildNumberRangeValidation","formFieldSelector","min","max","name","numberVal","buildValidation","$validateableElement","data","fieldValidations","type","dateValidation","push","required","element","$inputElement","tagName","get","inputName","elementSelector","$form","validationsToPerform","input","concat"],"mappings":"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","file":"theme-bundle.chunk.9.js","sourcesContent":["import PageManager from './page-manager';\nimport stateCountry from './common/state-country';\nimport $ from 'jquery';\nimport nod from './common/nod';\nimport validation from './common/form-validation';\nimport forms from './common/models/forms';\nimport { classifyForm, Validators } from './common/form-utils';\n\nexport default class Auth extends PageManager {\n    constructor(context) {\n        super(context);\n        this.formCreateSelector = 'form[data-create-account-form]';\n    }\n\n    registerLoginValidation($loginForm) {\n        const loginModel = forms;\n\n        this.loginValidator = nod({\n            submit: '.login-form input[type=\"submit\"]',\n        });\n\n        this.loginValidator.add([\n            {\n                selector: '.login-form input[name=\"login_email\"]',\n                validate: (cb, val) => {\n                    const result = loginModel.email(val);\n\n                    cb(result);\n                },\n                errorMessage: this.context.useValidEmail,\n            },\n            {\n                selector: '.login-form input[name=\"login_pass\"]',\n                validate: (cb, val) => {\n                    const result = loginModel.password(val);\n\n                    cb(result);\n                },\n                errorMessage: this.context.enterPass,\n            },\n        ]);\n\n        $loginForm.on('submit', event => {\n            this.loginValidator.performCheck();\n\n            if (this.loginValidator.areAll('valid')) {\n                return;\n            }\n\n            event.preventDefault();\n        });\n    }\n\n    registerForgotPasswordValidation($forgotPasswordForm) {\n        this.forgotPasswordValidator = nod({\n            submit: '.forgot-password-form input[type=\"submit\"]',\n        });\n\n        this.forgotPasswordValidator.add([\n            {\n                selector: '.forgot-password-form input[name=\"email\"]',\n                validate: (cb, val) => {\n                    const result = forms.email(val);\n\n                    cb(result);\n                },\n                errorMessage: this.context.useValidEmail,\n            },\n        ]);\n\n        $forgotPasswordForm.on('submit', event => {\n            this.forgotPasswordValidator.performCheck();\n\n            if (this.forgotPasswordValidator.areAll('valid')) {\n                return;\n            }\n\n            event.preventDefault();\n        });\n    }\n\n    registerNewPasswordValidation() {\n        const newPasswordForm = '.new-password-form';\n        const newPasswordValidator = nod({\n            submit: $(`${newPasswordForm} input[type=\"submit\"]`),\n        });\n        const passwordSelector = $(`${newPasswordForm} input[name=\"password\"]`);\n        const password2Selector = $(`${newPasswordForm} input[name=\"password_confirm\"]`);\n\n        Validators.setPasswordValidation(\n            newPasswordValidator,\n            passwordSelector,\n            password2Selector,\n            this.passwordRequirements,\n        );\n    }\n\n    registerCreateAccountValidator($createAccountForm) {\n        const validationModel = validation($createAccountForm);\n        const createAccountValidator = nod({\n            submit: `${this.formCreateSelector} input[type='submit']`,\n        });\n        const $stateElement = $('[data-field-type=\"State\"]');\n        const emailSelector = `${this.formCreateSelector} [data-field-type='EmailAddress']`;\n        const $emailElement = $(emailSelector);\n        const passwordSelector = `${this.formCreateSelector} [data-field-type='Password']`;\n        const $passwordElement = $(passwordSelector);\n        const password2Selector = `${this.formCreateSelector} [data-field-type='ConfirmPassword']`;\n        const $password2Element = $(password2Selector);\n\n        createAccountValidator.add(validationModel);\n\n        if ($stateElement) {\n            let $last;\n\n            // Requests the states for a country with AJAX\n            stateCountry($stateElement, this.context, (err, field) => {\n                if (err) {\n                    throw new Error(err);\n                }\n\n                const $field = $(field);\n\n                if (createAccountValidator.getStatus($stateElement) !== 'undefined') {\n                    createAccountValidator.remove($stateElement);\n                }\n\n                if ($last) {\n                    createAccountValidator.remove($last);\n                }\n\n                if ($field.is('select')) {\n                    $last = field;\n                    Validators.setStateCountryValidation(createAccountValidator, field);\n                } else {\n                    Validators.cleanUpStateValidation(field);\n                }\n            });\n        }\n\n        if ($emailElement) {\n            createAccountValidator.remove(emailSelector);\n            Validators.setEmailValidation(createAccountValidator, emailSelector);\n        }\n\n        if ($passwordElement && $password2Element) {\n            createAccountValidator.remove(passwordSelector);\n            createAccountValidator.remove(password2Selector);\n            Validators.setPasswordValidation(\n                createAccountValidator,\n                passwordSelector,\n                password2Selector,\n                this.passwordRequirements,\n            );\n        }\n\n        $createAccountForm.on('submit', event => {\n            createAccountValidator.performCheck();\n\n            if (createAccountValidator.areAll('valid')) {\n                return;\n            }\n\n            event.preventDefault();\n        });\n    }\n\n    /**\n     * Request is made in this function to the remote endpoint and pulls back the states for country.\n     */\n    onReady() {\n        const $createAccountForm = classifyForm(this.formCreateSelector);\n        const $loginForm = classifyForm('.login-form');\n        const $forgotPasswordForm = classifyForm('.forgot-password-form');\n        const $newPasswordForm = classifyForm('.new-password-form'); // reset password\n\n        // Injected via auth.html\n        this.passwordRequirements = this.context.passwordRequirements;\n\n        if ($loginForm.length) {\n            this.registerLoginValidation($loginForm);\n        }\n\n        if ($newPasswordForm.length) {\n            this.registerNewPasswordValidation();\n        }\n\n        if ($forgotPasswordForm.length) {\n            this.registerForgotPasswordValidation($forgotPasswordForm);\n        }\n\n        if ($createAccountForm.length) {\n            this.registerCreateAccountValidator($createAccountForm);\n        }\n    }\n}\n","import $ from 'jquery';\n\n/**\n * Validate that the given date for the day/month/year select inputs is within potential range\n * @param $formField\n * @param validation\n * @returns {{selector: string, triggeredBy: string, validate: Function, errorMessage: string}}\n */\nfunction buildDateValidation($formField, validation) {\n    // No date range restriction, skip\n    if (validation.min_date && validation.max_date) {\n        const invalidMessage = `Your chosen date must fall between ${validation.min_date} and ${validation.max_date}.`;\n        const formElementId = $formField.attr('id');\n        const minSplit = validation.min_date.split('-');\n        const maxSplit = validation.max_date.split('-');\n        const minDate = new Date(minSplit[0], minSplit[1] - 1, minSplit[2]);\n        const maxDate = new Date(maxSplit[0], maxSplit[1] - 1, maxSplit[2]);\n\n        return {\n            selector: `#${formElementId} select[data-label=\"year\"]`,\n            triggeredBy: `#${formElementId} select:not([data-label=\"year\"])`,\n            validate: (cb, val) => {\n                const day = Number($formField.find('select[data-label=\"day\"]').val());\n                const month = Number($formField.find('select[data-label=\"month\"]').val()) - 1;\n                const year = Number(val);\n                const chosenDate = new Date(year, month, day);\n\n                cb(chosenDate >= minDate && chosenDate <= maxDate);\n            },\n            errorMessage: invalidMessage,\n        };\n    }\n}\n\n/**\n * We validate checkboxes separately from single input fields, as they must have at least one checked option\n * from many different inputs\n * @param $formField\n * @param validation\n */\nfunction buildRequiredCheckboxValidation($formField, validation) {\n    const formFieldId = $formField.attr('id');\n    const primarySelector = `#${formFieldId} input:first-of-type`;\n    const secondarySelector = `#${formFieldId} input`;\n\n    return {\n        selector: primarySelector,\n        triggeredBy: secondarySelector,\n        validate: (cb) => {\n            let result = false;\n\n            $(secondarySelector).each((index, checkbox) => {\n                if (checkbox.checked) {\n                    result = true;\n\n                    return false;\n                }\n            });\n\n            cb(result);\n        },\n        errorMessage: `The '${validation.label}' field cannot be blank.`,\n    };\n}\n\nfunction buildRequiredValidation(validation, selector) {\n    return {\n        selector,\n        validate(cb, val) {\n            cb(val.length > 0);\n        },\n        errorMessage: `The '${validation.label}' field cannot be blank.`,\n    };\n}\n\nfunction buildNumberRangeValidation(validation, formFieldSelector) {\n    const invalidMessage = `The value for ${validation.label} must be between ${validation.min} and ${validation.max}.`;\n    const min = Number(validation.min);\n    const max = Number(validation.max);\n\n    return {\n        selector: `${formFieldSelector} input[name=\"${validation.name}\"]`,\n        validate: (cb, val) => {\n            const numberVal = Number(val);\n\n            cb(numberVal >= min && numberVal <= max);\n        },\n        errorMessage: invalidMessage,\n    };\n}\n\n\nfunction buildValidation($validateableElement) {\n    const validation = $validateableElement.data('validation');\n    const fieldValidations = [];\n    const formFieldSelector = `#${$validateableElement.attr('id')}`;\n\n    if (validation.type === 'datechooser') {\n        const dateValidation = buildDateValidation($validateableElement, validation);\n\n        if (dateValidation) {\n            fieldValidations.push(dateValidation);\n        }\n    } else if (validation.required && (validation.type === 'checkboxselect' || validation.type === 'radioselect')) {\n        fieldValidations.push(buildRequiredCheckboxValidation($validateableElement, validation));\n    } else {\n        $validateableElement.find('input, select, textarea').each((index, element) => {\n            const $inputElement = $(element);\n            const tagName = $inputElement.get(0).tagName;\n            const inputName = $inputElement.attr('name');\n            const elementSelector = `${formFieldSelector} ${tagName}[name=\"${inputName}\"]`;\n\n            if (validation.type === 'numberonly') {\n                fieldValidations.push(buildNumberRangeValidation(validation, formFieldSelector));\n            }\n            if (validation.required) {\n                fieldValidations.push(buildRequiredValidation(validation, elementSelector));\n            }\n        });\n    }\n\n    return fieldValidations;\n}\n\n/**\n * Builds the validation model for dynamic forms\n * @param $form\n * @returns {Array}\n */\nexport default function ($form) {\n    let validationsToPerform = [];\n\n    $form.find('[data-validation]').each((index, input) => {\n        validationsToPerform = validationsToPerform.concat(buildValidation($(input)));\n    });\n\n    return validationsToPerform;\n}\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n","var arrayEach = require('./_arrayEach'),\n    baseCreate = require('./_baseCreate'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee'),\n    getPrototype = require('./_getPrototype'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isTypedArray = require('./isTypedArray');\n\n/**\n * An alternative to `_.reduce`; this method transforms `object` to a new\n * `accumulator` object which is the result of running each of its own\n * enumerable string keyed properties thru `iteratee`, with each invocation\n * potentially mutating the `accumulator` object. If `accumulator` is not\n * provided, a new object with the same `[[Prototype]]` will be used. The\n * iteratee is invoked with four arguments: (accumulator, value, key, object).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 1.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @param {*} [accumulator] The custom accumulator value.\n * @returns {*} Returns the accumulated value.\n * @example\n *\n * _.transform([2, 3, 4], function(result, n) {\n *   result.push(n *= n);\n *   return n % 2 == 0;\n * }, []);\n * // => [4, 9]\n *\n * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {\n *   (result[value] || (result[value] = [])).push(key);\n * }, {});\n * // => { '1': ['a', 'c'], '2': ['b'] }\n */\nfunction transform(object, iteratee, accumulator) {\n  var isArr = isArray(object),\n      isArrLike = isArr || isBuffer(object) || isTypedArray(object);\n\n  iteratee = baseIteratee(iteratee, 4);\n  if (accumulator == null) {\n    var Ctor = object && object.constructor;\n    if (isArrLike) {\n      accumulator = isArr ? new Ctor : [];\n    }\n    else if (isObject(object)) {\n      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};\n    }\n    else {\n      accumulator = {};\n    }\n  }\n  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {\n    return iteratee(accumulator, value, index, object);\n  });\n  return accumulator;\n}\n\nmodule.exports = transform;\n"],"sourceRoot":""}